# é›¶å­¦ä¹ æˆæœ¬AIç•Œé¢è®¾è®¡æ–¹æ¡ˆ

## ğŸ¯ è®¾è®¡æ ¸å¿ƒç†å¿µ

### ç”¨æˆ·å¿ƒç†åˆ†æ
**ä¸ªä½“è¶…å¸‚è€æ¿çš„ç‰¹ç‚¹**:
- å¹´é¾„åå¤§ï¼Œå¯¹æ–°æŠ€æœ¯æ¥å—åº¦æœ‰é™
- å·¥ä½œç¹å¿™ï¼Œæ²¡æ—¶é—´å­¦ä¹ å¤æ‚æ“ä½œ
- ä¹ æƒ¯ä¼ ç»Ÿçš„æ“ä½œæ–¹å¼
- æ›´ä¿¡ä»»ç›´è§‚ã€ç®€å•çš„ç•Œé¢

### é›¶å­¦ä¹ æˆæœ¬ç­–ç•¥
1. **æ¨¡ä»¿ç†Ÿæ‚‰ç•Œé¢** - å®Œå…¨ä»¿ç…§å¾®ä¿¡èŠå¤©
2. **ä¸»åŠ¨å¼•å¯¼** - AIä¸»åŠ¨è¯¢é—®å’Œæç¤º
3. **ä¸€å¥è¯æ“ä½œ** - ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚
4. **æ™ºèƒ½çº é”™** - ç†è§£æ¨¡ç³Šå’Œé”™è¯¯çš„è¡¨è¾¾
5. **æ¸è¿›å¼åŠŸèƒ½** - ä»ç®€å•åˆ°å¤æ‚é€æ­¥å¼•å¯¼

---

## ğŸ“± æç®€ç•Œé¢è®¾è®¡

### ä¸»ç•Œé¢å¸ƒå±€ï¼ˆä»¿å¾®ä¿¡ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸª è¶…å¸‚AIåŠ©æ‰‹                    âš™ï¸    â”‚ â† é¡¶éƒ¨ï¼šç®€å•æ ‡é¢˜+è®¾ç½®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ¤– æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„è¶…å¸‚ç®¡ç†åŠ©æ‰‹           â”‚
â”‚     æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ                 â”‚
â”‚                                         â”‚
â”‚  ğŸ’¡ æ‚¨å¯ä»¥è¿™æ ·é—®æˆ‘ï¼š                     â”‚ â† AIä¸»åŠ¨æç¤º
â”‚  â€¢ "ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ"                   â”‚
â”‚  â€¢ "å“ªäº›å•†å“å¿«æ²¡è´§äº†ï¼Ÿ"                 â”‚
â”‚  â€¢ "å¸®æˆ‘æ·»åŠ æ–°å•†å“"                     â”‚
â”‚                                         â”‚
â”‚                              æ‚¨å¥½ ğŸ“¤    â”‚ â† ç”¨æˆ·æ¶ˆæ¯
â”‚                                         â”‚
â”‚  ğŸ¤– ä»Šå¤©è¥ä¸šé¢æ˜¯1,248å…ƒ                 â”‚ â† AIå›å¤
â”‚     æ¯”æ˜¨å¤©å¢é•¿äº†15%ï¼Œå¾ˆä¸é”™ï¼            â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¬ è¯´ç‚¹ä»€ä¹ˆ...              ğŸ¤  ğŸ“¤     â”‚ â† åº•éƒ¨ï¼šè¾“å…¥æ¡†+è¯­éŸ³+å‘é€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®è®¾è®¡åŸåˆ™
1. **å»æ‰æ‰€æœ‰èœå•** - æ²¡æœ‰å¤æ‚çš„å¯¼èˆªæ 
2. **å»æ‰ä¸“ä¸šæœ¯è¯­** - ç”¨å¤§ç™½è¯äº¤æµ
3. **å¤§å­—ä½“å¤§æŒ‰é’®** - é€‚åˆä¸­è€å¹´ç”¨æˆ·
4. **æ˜æ˜¾çš„è§†è§‰æç¤º** - ç”¨é¢œè‰²å’Œå›¾æ ‡å¼•å¯¼

---

## ğŸ—£ï¸ å¯¹è¯å¼äº¤äº’è®¾è®¡

### 1. AIä¸»åŠ¨å¼•å¯¼ç­–ç•¥
```vue
<!-- é¦–æ¬¡ä½¿ç”¨å¼•å¯¼ -->
<template>
  <div class="welcome-guide">
    <div class="ai-message">
      <div class="avatar">ğŸ¤–</div>
      <div class="content">
        <p>æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„è¶…å¸‚ç®¡ç†åŠ©æ‰‹</p>
        <p>æˆ‘å¯ä»¥å¸®æ‚¨ï¼š</p>
        
        <!-- å¯ç‚¹å‡»çš„åŠŸèƒ½å¡ç‰‡ -->
        <div class="function-cards">
          <div class="card" @click="askSales">
            <div class="icon">ğŸ’°</div>
            <div class="text">æŸ¥çœ‹é”€å”®æƒ…å†µ</div>
          </div>
          
          <div class="card" @click="checkInventory">
            <div class="icon">ğŸ“¦</div>
            <div class="text">æ£€æŸ¥åº“å­˜</div>
          </div>
          
          <div class="card" @click="addProduct">
            <div class="icon">â•</div>
            <div class="text">æ·»åŠ å•†å“</div>
          </div>
        </div>
        
        <p class="tip">ğŸ’¡ æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ç”¨è¯´è¯çš„æ–¹å¼å‘Šè¯‰æˆ‘</p>
      </div>
    </div>
  </div>
</template>

<script setup>
const askSales = () => {
  sendMessage("ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ")
}

const checkInventory = () => {
  sendMessage("æœ‰ä»€ä¹ˆå•†å“å¿«æ²¡è´§äº†ï¼Ÿ")
}

const addProduct = () => {
  sendMessage("æˆ‘è¦æ·»åŠ æ–°å•†å“")
}
</script>
```

### 2. æ™ºèƒ½é—®ç­”æ¨¡å¼
```typescript
// é¢„è®¾å¸¸è§é—®é¢˜å’Œå›ç­”æ¨¡å¼
const commonQuestions = {
  é”€å”®ç›¸å…³: [
    "ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ",
    "è¿™ä¸ªæœˆç”Ÿæ„æ€ä¹ˆæ ·ï¼Ÿ",
    "å“ªäº›å•†å“å–å¾—å¥½ï¼Ÿ",
    "æ˜¨å¤©çš„è¥ä¸šé¢æ˜¯å¤šå°‘ï¼Ÿ"
  ],
  
  åº“å­˜ç›¸å…³: [
    "æœ‰ä»€ä¹ˆå¿«æ²¡è´§äº†ï¼Ÿ",
    "ç‰›å¥¶è¿˜æœ‰å¤šå°‘ï¼Ÿ",
    "éœ€è¦è¿›ä»€ä¹ˆè´§ï¼Ÿ",
    "åº“å­˜é¢„è­¦"
  ],
  
  å•†å“ç®¡ç†: [
    "æ·»åŠ æ–°å•†å“",
    "ä¿®æ”¹å•†å“ä»·æ ¼",
    "ä¸‹æ¶å•†å“",
    "æŸ¥æ‰¾å•†å“"
  ]
}

// AIæ™ºèƒ½å¼•å¯¼
const generateSuggestions = (context: string) => {
  if (context.includes('é”€å”®') || context.includes('é’±')) {
    return [
      "ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ",
      "è¿™å‘¨é”€å”®æƒ…å†µå¦‚ä½•ï¼Ÿ",
      "å“ªäº›å•†å“æœ€èµšé’±ï¼Ÿ"
    ]
  }
  
  if (context.includes('åº“å­˜') || context.includes('è´§')) {
    return [
      "æ£€æŸ¥åº“å­˜é¢„è­¦",
      "éœ€è¦è¡¥ä»€ä¹ˆè´§ï¼Ÿ",
      "ç›˜ç‚¹åº“å­˜"
    ]
  }
  
  return [
    "æŸ¥çœ‹ä»Šæ—¥é”€å”®",
    "æ£€æŸ¥åº“å­˜æƒ…å†µ", 
    "æ·»åŠ æ–°å•†å“"
  ]
}
```

### 3. å®¹é”™å’Œæ™ºèƒ½ç†è§£
```typescript
// æ¨¡ç³ŠåŒ¹é…å’Œæ™ºèƒ½çº é”™
const fuzzyMatch = (userInput: string) => {
  const patterns = {
    // é”€å”®æŸ¥è¯¢çš„å„ç§è¯´æ³•
    sales: [
      /ä»Šå¤©.*å–.*å¤šå°‘/,
      /è¥ä¸šé¢/,
      /æ”¶å…¥/,
      /èµš.*é’±/,
      /ç”Ÿæ„.*æ€ä¹ˆæ ·/,
      /é”€å”®.*æƒ…å†µ/
    ],
    
    // åº“å­˜æŸ¥è¯¢çš„å„ç§è¯´æ³•  
    inventory: [
      /æ²¡è´§/,
      /åº“å­˜/,
      /è¿˜æœ‰.*å¤šå°‘/,
      /å¿«.*å®Œ.*äº†/,
      /è¡¥è´§/,
      /è¿›è´§/
    ],
    
    // å•†å“ç®¡ç†çš„å„ç§è¯´æ³•
    product: [
      /æ·»åŠ .*å•†å“/,
      /æ–°.*å•†å“/,
      /ä¸Šæ¶/,
      /å½•å…¥.*å•†å“/,
      /åŠ .*å•†å“/
    ]
  }
  
  for (const [intent, regexList] of Object.entries(patterns)) {
    if (regexList.some(regex => regex.test(userInput))) {
      return intent
    }
  }
  
  return 'unknown'
}

// æ™ºèƒ½æç¤ºç”¨æˆ·
const handleUnknownInput = (input: string) => {
  return `æˆ‘æ²¡å¤ªæ˜ç™½æ‚¨çš„æ„æ€ï¼Œæ‚¨æ˜¯æƒ³ï¼š
  
  ğŸ” æŸ¥çœ‹é”€å”®æƒ…å†µï¼Ÿ
  ğŸ“¦ æ£€æŸ¥åº“å­˜ï¼Ÿ
  â•æ·»åŠ å•†å“ï¼Ÿ
  
  æ‚¨å¯ä»¥ç›´æ¥è¯´"ä»Šå¤©å–äº†å¤šå°‘é’±"è¿™æ ·çš„è¯`
}
```

---

## ğŸ¨ è§†è§‰è®¾è®¡ä¼˜åŒ–

### 1. å¤§å­—ä½“å¤§æŒ‰é’®è®¾è®¡
```scss
// ä¸“ä¸ºä¸­è€å¹´ç”¨æˆ·ä¼˜åŒ–çš„æ ·å¼
.ai-chat-container {
  font-size: 16px; // æ¯”å¸¸è§„å¤§2px
  line-height: 1.6;
  
  .message-text {
    font-size: 18px; // æ¶ˆæ¯æ–‡å­—æ›´å¤§
    color: #333;
    font-weight: 500;
  }
  
  .input-area {
    .el-input__inner {
      font-size: 16px;
      padding: 12px 16px; // æ›´å¤§çš„ç‚¹å‡»åŒºåŸŸ
      height: 48px; // æ›´é«˜çš„è¾“å…¥æ¡†
    }
  }
  
  .send-button {
    width: 60px;
    height: 48px;
    font-size: 16px;
    border-radius: 8px;
  }
  
  .voice-button {
    width: 60px;
    height: 48px;
    border-radius: 50%;
    
    &.recording {
      background: #ff4757;
      animation: pulse 1s infinite;
    }
  }
}

// è„‰å†²åŠ¨ç”»æç¤ºå½•éŸ³çŠ¶æ€
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}
```

### 2. æ¸…æ™°çš„çŠ¶æ€æç¤º
```vue
<!-- çŠ¶æ€æç¤ºç»„ä»¶ -->
<template>
  <div class="status-indicators">
    <!-- ç½‘ç»œçŠ¶æ€ -->
    <div class="network-status" :class="networkStatus">
      <span v-if="networkStatus === 'online'" class="status-dot green"></span>
      <span v-else class="status-dot red"></span>
      {{ networkStatus === 'online' ? 'å·²è¿æ¥' : 'ç½‘ç»œå¼‚å¸¸' }}
    </div>
    
    <!-- AIæ€è€ƒçŠ¶æ€ -->
    <div v-if="isThinking" class="thinking-status">
      <div class="thinking-dots">
        <span></span><span></span><span></span>
      </div>
      AIæ­£åœ¨æ€è€ƒ...
    </div>
    
    <!-- è¯­éŸ³è¯†åˆ«çŠ¶æ€ -->
    <div v-if="isListening" class="voice-status">
      <div class="voice-wave">
        <span></span><span></span><span></span><span></span>
      </div>
      æ­£åœ¨å¬æ‚¨è¯´è¯...
    </div>
  </div>
</template>

<style scoped>
.status-indicators {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
}

.status-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 8px;
  
  &.green { background: #52c41a; }
  &.red { background: #ff4d4f; }
}

.thinking-dots span {
  display: inline-block;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #1890ff;
  margin: 0 2px;
  animation: thinking 1.4s infinite ease-in-out;
}

.thinking-dots span:nth-child(1) { animation-delay: -0.32s; }
.thinking-dots span:nth-child(2) { animation-delay: -0.16s; }

@keyframes thinking {
  0%, 80%, 100% { transform: scale(0); }
  40% { transform: scale(1); }
}
</style>
```

---

## ğŸ¤ è¯­éŸ³ä¼˜å…ˆäº¤äº’

### 1. ä¸€é”®è¯­éŸ³è¾“å…¥
```vue
<template>
  <div class="voice-input-area">
    <!-- å¤§å·è¯­éŸ³æŒ‰é’® -->
    <button
      class="voice-button"
      :class="{ 'recording': isRecording }"
      @mousedown="startRecording"
      @mouseup="stopRecording"
      @touchstart="startRecording"
      @touchend="stopRecording"
    >
      <i v-if="!isRecording" class="icon-microphone">ğŸ¤</i>
      <i v-else class="icon-recording">ğŸ”´</i>
    </button>
    
    <!-- è¯­éŸ³æç¤ºæ–‡å­— -->
    <div class="voice-hint">
      <span v-if="!isRecording">æŒ‰ä½è¯´è¯</span>
      <span v-else class="recording-text">æ¾å¼€å‘é€</span>
    </div>
    
    <!-- è¯­éŸ³è¯†åˆ«ç»“æœé¢„è§ˆ -->
    <div v-if="voiceText" class="voice-preview">
      <div class="preview-text">{{ voiceText }}</div>
      <div class="preview-actions">
        <button @click="sendVoiceText" class="confirm-btn">âœ“ å‘é€</button>
        <button @click="clearVoiceText" class="cancel-btn">âœ— é‡è¯´</button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useVoiceRecognition } from '@/composables/useVoiceRecognition'

const { 
  isRecording, 
  voiceText, 
  startRecording, 
  stopRecording,
  clearVoiceText 
} = useVoiceRecognition()

const sendVoiceText = () => {
  if (voiceText.value) {
    emit('send-message', voiceText.value)
    clearVoiceText()
  }
}
</script>

<style scoped>
.voice-button {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: none;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  font-size: 32px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  
  &:hover {
    transform: scale(1.05);
  }
  
  &.recording {
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
    animation: pulse 1s infinite;
  }
}

.voice-hint {
  margin-top: 12px;
  font-size: 14px;
  color: #666;
  text-align: center;
  
  .recording-text {
    color: #ff4757;
    font-weight: bold;
  }
}

.voice-preview {
  margin-top: 16px;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #1890ff;
  
  .preview-text {
    font-size: 16px;
    color: #333;
    margin-bottom: 12px;
  }
  
  .preview-actions {
    display: flex;
    gap: 12px;
    
    button {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      
      &.confirm-btn {
        background: #52c41a;
        color: white;
      }
      
      &.cancel-btn {
        background: #f5f5f5;
        color: #666;
      }
    }
  }
}
</style>
```

### 2. æ™ºèƒ½è¯­éŸ³è¯†åˆ«ä¼˜åŒ–
```typescript
// composables/useVoiceRecognition.ts
export function useVoiceRecognition() {
  const isRecording = ref(false)
  const voiceText = ref('')
  const recognition = ref<SpeechRecognition | null>(null)
  
  onMounted(() => {
    if ('webkitSpeechRecognition' in window) {
      recognition.value = new webkitSpeechRecognition()
      
      // ä¼˜åŒ–è®¾ç½®
      recognition.value.continuous = false
      recognition.value.interimResults = true
      recognition.value.lang = 'zh-CN'
      recognition.value.maxAlternatives = 1
      
      recognition.value.onresult = (event) => {
        let finalTranscript = ''
        let interimTranscript = ''
        
        for (let i = event.resultIndex; i < event.results.length; i++) {
          const transcript = event.results[i][0].transcript
          if (event.results[i].isFinal) {
            finalTranscript += transcript
          } else {
            interimTranscript += transcript
          }
        }
        
        // å®æ—¶æ˜¾ç¤ºè¯†åˆ«ç»“æœ
        voiceText.value = finalTranscript || interimTranscript
        
        // è‡ªåŠ¨çº é”™å¸¸è§é—®é¢˜
        voiceText.value = correctCommonErrors(voiceText.value)
      }
      
      recognition.value.onerror = (event) => {
        console.error('è¯­éŸ³è¯†åˆ«é”™è¯¯:', event.error)
        isRecording.value = false
        
        // ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
        if (event.error === 'no-speech') {
          ElMessage.warning('æ²¡æœ‰å¬åˆ°æ‚¨è¯´è¯ï¼Œè¯·é‡è¯•')
        } else if (event.error === 'network') {
          ElMessage.error('ç½‘ç»œè¿æ¥é—®é¢˜ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ')
        } else {
          ElMessage.error('è¯­éŸ³è¯†åˆ«å¤±è´¥ï¼Œè¯·é‡è¯•')
        }
      }
    }
  })
  
  // çº æ­£å¸¸è§çš„è¯­éŸ³è¯†åˆ«é”™è¯¯
  const correctCommonErrors = (text: string) => {
    const corrections = {
      'ä»Šå¤©ä¹°äº†å¤šå°‘é’±': 'ä»Šå¤©å–äº†å¤šå°‘é’±',
      'æ²¡æ´»äº†': 'æ²¡è´§äº†',
      'åº“æ‘': 'åº“å­˜',
      'å•†å“': 'å•†å“',
      'æ·»åŠ ': 'æ·»åŠ '
    }
    
    let corrected = text
    Object.entries(corrections).forEach(([wrong, right]) => {
      corrected = corrected.replace(new RegExp(wrong, 'g'), right)
    })
    
    return corrected
  }
  
  const startRecording = () => {
    if (recognition.value && !isRecording.value) {
      isRecording.value = true
      voiceText.value = ''
      recognition.value.start()
    }
  }
  
  const stopRecording = () => {
    if (recognition.value && isRecording.value) {
      recognition.value.stop()
      isRecording.value = false
    }
  }
  
  return {
    isRecording: readonly(isRecording),
    voiceText: readonly(voiceText),
    startRecording,
    stopRecording,
    clearVoiceText: () => { voiceText.value = '' }
  }
}
```

---

## ğŸ¤– æ™ºèƒ½å¼•å¯¼ç³»ç»Ÿ

### 1. æƒ…å¢ƒæ„ŸçŸ¥æç¤º
```typescript
// æ ¹æ®æ—¶é—´å’Œåœºæ™¯æ™ºèƒ½æç¤º
const getContextualSuggestions = () => {
  const hour = new Date().getHours()
  const day = new Date().getDay()

  // æ—©ä¸Šå¼€åº—æ—¶é—´
  if (hour >= 7 && hour <= 9) {
    return {
      greeting: "æ—©ä¸Šå¥½ï¼æ–°çš„ä¸€å¤©å¼€å§‹äº†",
      suggestions: [
        "æŸ¥çœ‹æ˜¨å¤©çš„é”€å”®æ€»ç»“",
        "æ£€æŸ¥ä»Šå¤©éœ€è¦è¡¥çš„è´§",
        "çœ‹çœ‹æœ‰ä»€ä¹ˆå•†å“å¿«è¿‡æœŸ"
      ]
    }
  }

  // ä¸­åˆå¿™ç¢Œæ—¶é—´
  if (hour >= 11 && hour <= 14) {
    return {
      greeting: "ä¸­åˆå¥½ï¼ç”Ÿæ„å¿™å—ï¼Ÿ",
      suggestions: [
        "å¿«é€ŸæŸ¥çœ‹ä»Šå¤©é”€å”®",
        "æ£€æŸ¥çƒ­é”€å•†å“åº“å­˜",
        "è¯­éŸ³æ·»åŠ å•†å“"
      ]
    }
  }

  // æ™šä¸Šç›˜ç‚¹æ—¶é—´
  if (hour >= 18 && hour <= 22) {
    return {
      greeting: "æ™šä¸Šå¥½ï¼è¯¥ç›˜ç‚¹ä¸€ä¸‹äº†",
      suggestions: [
        "ä»Šå¤©æ€»å…±å–äº†å¤šå°‘é’±ï¼Ÿ",
        "å“ªäº›å•†å“éœ€è¦æ˜å¤©è¡¥è´§ï¼Ÿ",
        "ç”Ÿæˆä»Šæ—¥é”€å”®æŠ¥è¡¨"
      ]
    }
  }

  // å‘¨æœ«ç‰¹æ®Šæç¤º
  if (day === 0 || day === 6) {
    return {
      greeting: "å‘¨æœ«å¥½ï¼å®¢æµå¯èƒ½ä¼šå¤šä¸€äº›",
      suggestions: [
        "æ£€æŸ¥çƒ­é”€å•†å“åº“å­˜",
        "çœ‹çœ‹ä¿ƒé”€å•†å“æƒ…å†µ",
        "å‡†å¤‡å‘¨æœ«è¡¥è´§æ¸…å•"
      ]
    }
  }

  return {
    greeting: "æ‚¨å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„ï¼Ÿ",
    suggestions: [
      "æŸ¥çœ‹é”€å”®æƒ…å†µ",
      "æ£€æŸ¥åº“å­˜",
      "æ·»åŠ å•†å“"
    ]
  }
}
```

### 2. æ¸è¿›å¼åŠŸèƒ½å¼•å¯¼
```vue
<!-- æ–°æ‰‹å¼•å¯¼ç»„ä»¶ -->
<template>
  <div class="onboarding-guide" v-if="showGuide">
    <!-- ç¬¬ä¸€æ­¥ï¼šåŸºç¡€é—®å€™ -->
    <div v-if="step === 1" class="guide-step">
      <div class="ai-message">
        <div class="avatar">ğŸ¤–</div>
        <div class="content">
          <h3>æ¬¢è¿ä½¿ç”¨è¶…å¸‚AIåŠ©æ‰‹ï¼</h3>
          <p>æˆ‘å¯ä»¥å¸®æ‚¨ç®¡ç†è¶…å¸‚ï¼Œå°±åƒå’Œæœ‹å‹èŠå¤©ä¸€æ ·ç®€å•</p>
          <p>å…ˆè¯•è¯•é—®æˆ‘ï¼š"ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ"</p>

          <button @click="tryExample" class="try-button">
            ç‚¹å‡»è¯•è¯• â†’
          </button>
        </div>
      </div>
    </div>

    <!-- ç¬¬äºŒæ­¥ï¼šè¯­éŸ³åŠŸèƒ½ -->
    <div v-if="step === 2" class="guide-step">
      <div class="ai-message">
        <div class="avatar">ğŸ¤–</div>
        <div class="content">
          <p>å¾ˆå¥½ï¼æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥è¯´è¯</p>
          <p>æŒ‰ä½ä¸‹é¢çš„æŒ‰é’®ï¼Œè¯´"æ£€æŸ¥åº“å­˜"è¯•è¯•</p>

          <div class="voice-demo">
            <button class="voice-button-demo" @click="showVoiceDemo">
              ğŸ¤ æŒ‰ä½è¯´è¯
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- ç¬¬ä¸‰æ­¥ï¼šå®Œæˆå¼•å¯¼ -->
    <div v-if="step === 3" class="guide-step">
      <div class="ai-message">
        <div class="avatar">ğŸ¤–</div>
        <div class="content">
          <p>å¤ªæ£’äº†ï¼æ‚¨å·²ç»å­¦ä¼šäº†åŸºæœ¬æ“ä½œ</p>
          <p>ç°åœ¨å¯ä»¥ï¼š</p>
          <ul class="feature-list">
            <li>ğŸ’¬ ç›´æ¥æ‰“å­—é—®é—®é¢˜</li>
            <li>ğŸ¤ æŒ‰ä½æŒ‰é’®è¯´è¯</li>
            <li>ğŸ“Š æŸ¥çœ‹é”€å”®å’Œåº“å­˜</li>
            <li>â• æ·»åŠ å’Œç®¡ç†å•†å“</li>
          </ul>

          <button @click="finishGuide" class="finish-button">
            å¼€å§‹ä½¿ç”¨ ğŸš€
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const showGuide = ref(false)
const step = ref(1)

onMounted(() => {
  // æ£€æŸ¥æ˜¯å¦æ˜¯æ–°ç”¨æˆ·
  const hasUsedBefore = localStorage.getItem('ai-assistant-used')
  if (!hasUsedBefore) {
    showGuide.value = true
  }
})

const tryExample = () => {
  // è‡ªåŠ¨å‘é€ç¤ºä¾‹æ¶ˆæ¯
  emit('send-message', 'ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ')
  step.value = 2
}

const showVoiceDemo = () => {
  // æ¼”ç¤ºè¯­éŸ³åŠŸèƒ½
  step.value = 3
}

const finishGuide = () => {
  showGuide.value = false
  localStorage.setItem('ai-assistant-used', 'true')
}
</script>

<style scoped>
.guide-step {
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 12px;
  margin-bottom: 16px;
}

.try-button, .finish-button {
  background: white;
  color: #667eea;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 16px;
  transition: transform 0.2s;
}

.try-button:hover, .finish-button:hover {
  transform: scale(1.05);
}

.voice-button-demo {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: rgba(255,255,255,0.2);
  border: 2px solid white;
  color: white;
  font-size: 24px;
  cursor: pointer;
  margin: 16px 0;
}

.feature-list {
  list-style: none;
  padding: 0;
  margin: 16px 0;

  li {
    padding: 8px 0;
    font-size: 16px;
  }
}
</style>
```

### 3. æ™ºèƒ½é”™è¯¯å¤„ç†å’Œå»ºè®®
```typescript
// æ™ºèƒ½é”™è¯¯å¤„ç†
const handleUserInput = async (input: string) => {
  try {
    // 1. é¢„å¤„ç†ç”¨æˆ·è¾“å…¥
    const processedInput = preprocessInput(input)

    // 2. æ„å›¾è¯†åˆ«
    const intent = await recognizeIntent(processedInput)

    // 3. å¦‚æœæ„å›¾ä¸æ˜ç¡®ï¼Œæ™ºèƒ½å¼•å¯¼
    if (intent.confidence < 0.7) {
      return generateHelpfulSuggestion(input)
    }

    // 4. æ‰§è¡Œæ“ä½œ
    return await executeIntent(intent)

  } catch (error) {
    return handleError(error, input)
  }
}

// é¢„å¤„ç†ç”¨æˆ·è¾“å…¥
const preprocessInput = (input: string) => {
  // å»é™¤æ— æ„ä¹‰çš„è¯æ±‡
  const stopWords = ['å‘ƒ', 'å—¯', 'é‚£ä¸ª', 'è¿™ä¸ª', 'å°±æ˜¯']
  let processed = input

  stopWords.forEach(word => {
    processed = processed.replace(new RegExp(word, 'g'), '')
  })

  // æ ‡å‡†åŒ–å¸¸è§è¡¨è¾¾
  const normalizations = {
    'æŒ£äº†': 'å–äº†',
    'èµšäº†': 'å–äº†',
    'æ”¶å…¥': 'è¥ä¸šé¢',
    'æ²¡æœ‰äº†': 'æ²¡è´§äº†',
    'å®Œäº†': 'æ²¡è´§äº†',
    'æ–°åŠ ': 'æ·»åŠ ',
    'å½•å…¥': 'æ·»åŠ '
  }

  Object.entries(normalizations).forEach(([from, to]) => {
    processed = processed.replace(new RegExp(from, 'g'), to)
  })

  return processed.trim()
}

// ç”Ÿæˆæœ‰ç”¨çš„å»ºè®®
const generateHelpfulSuggestion = (input: string) => {
  const suggestions = []

  // åŸºäºå…³é”®è¯åŒ¹é…
  if (input.includes('é’±') || input.includes('é”€å”®')) {
    suggestions.push({
      text: "æŸ¥çœ‹ä»Šå¤©é”€å”®æƒ…å†µ",
      action: "ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ"
    })
  }

  if (input.includes('è´§') || input.includes('åº“å­˜')) {
    suggestions.push({
      text: "æ£€æŸ¥åº“å­˜æƒ…å†µ",
      action: "æœ‰ä»€ä¹ˆå•†å“å¿«æ²¡è´§äº†ï¼Ÿ"
    })
  }

  if (input.includes('å•†å“') || input.includes('æ·»åŠ ')) {
    suggestions.push({
      text: "æ·»åŠ æ–°å•†å“",
      action: "æˆ‘è¦æ·»åŠ æ–°å•†å“"
    })
  }

  // å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œæä¾›é€šç”¨å»ºè®®
  if (suggestions.length === 0) {
    suggestions.push(
      { text: "æŸ¥çœ‹é”€å”®æƒ…å†µ", action: "ä»Šå¤©å–äº†å¤šå°‘é’±ï¼Ÿ" },
      { text: "æ£€æŸ¥åº“å­˜", action: "æœ‰ä»€ä¹ˆå•†å“å¿«æ²¡è´§äº†ï¼Ÿ" },
      { text: "æ·»åŠ å•†å“", action: "æˆ‘è¦æ·»åŠ æ–°å•†å“" }
    )
  }

  return {
    type: 'suggestion',
    message: 'æˆ‘æ²¡å¤ªç†è§£æ‚¨çš„æ„æ€ï¼Œæ‚¨æ˜¯æƒ³ï¼š',
    suggestions: suggestions
  }
}
```

---

## ğŸ“Š æ•°æ®å±•ç¤ºä¼˜åŒ–

### 1. å¤§ç™½è¯æ•°æ®è§£è¯»
```typescript
// å°†å¤æ‚æ•°æ®è½¬æ¢ä¸ºé€šä¿—æ˜“æ‡‚çš„æè¿°
const formatSalesData = (data: SalesData) => {
  const { revenue, growth, topProducts } = data

  let message = `ä»Šå¤©ä¸€å…±å–äº† ${revenue} å…ƒ`

  // å¢é•¿æƒ…å†µç”¨é€šä¿—è¯­è¨€æè¿°
  if (growth > 0) {
    message += `ï¼Œæ¯”æ˜¨å¤©å¤šèµšäº† ${Math.abs(growth)}%ï¼Œä¸é”™ï¼ğŸ‘`
  } else if (growth < 0) {
    message += `ï¼Œæ¯”æ˜¨å¤©å°‘äº† ${Math.abs(growth)}%ï¼Œæ²¡å…³ç³»ï¼Œæ˜å¤©ä¼šæ›´å¥½ ğŸ’ª`
  } else {
    message += `ï¼Œå’Œæ˜¨å¤©å·®ä¸å¤š ğŸ˜Š`
  }

  // çƒ­é”€å•†å“
  if (topProducts.length > 0) {
    message += `\n\nä»Šå¤©å–å¾—æœ€å¥½çš„æ˜¯ï¼š\n`
    topProducts.slice(0, 3).forEach((product, index) => {
      const emoji = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'][index]
      message += `${emoji} ${product.name} - å–äº†${product.quantity}ä¸ª\n`
    })
  }

  return message
}

// åº“å­˜é¢„è­¦çš„å‹å¥½æç¤º
const formatInventoryAlert = (alerts: InventoryAlert[]) => {
  if (alerts.length === 0) {
    return "åº“å­˜éƒ½å¾ˆå……è¶³ï¼Œä¸ç”¨æ‹…å¿ƒ âœ…"
  }

  let message = "æœ‰å‡ æ ·å•†å“å¿«æ²¡è´§äº†ï¼Œéœ€è¦æ³¨æ„ï¼š\n\n"

  alerts.forEach(alert => {
    const urgency = alert.daysLeft <= 1 ? 'ğŸ”´ ç´§æ€¥' :
                   alert.daysLeft <= 3 ? 'ğŸŸ¡ æ³¨æ„' : 'ğŸŸ¢ æé†’'

    message += `${urgency} ${alert.productName}\n`
    message += `   è¿˜å‰© ${alert.currentStock} ä¸ªï¼Œå¤§æ¦‚èƒ½å– ${alert.daysLeft} å¤©\n\n`
  })

  message += "ğŸ’¡ å»ºè®®ï¼šä¼˜å…ˆè¡¥å……æ ‡çº¢çš„å•†å“"

  return message
}
```

### 2. å¯è§†åŒ–å›¾è¡¨ç®€åŒ–
```vue
<!-- ç®€åŒ–çš„å›¾è¡¨å±•ç¤º -->
<template>
  <div class="simple-chart">
    <!-- é”€å”®è¶‹åŠ¿ç”¨ç®€å•çš„æ¡å½¢å›¾ -->
    <div class="chart-title">ğŸ“ˆ æœ€è¿‘7å¤©é”€å”®æƒ…å†µ</div>

    <div class="bar-chart">
      <div
        v-for="(day, index) in salesData"
        :key="index"
        class="bar-item"
      >
        <div
          class="bar"
          :style="{ height: `${(day.amount / maxAmount) * 100}%` }"
          :class="{ 'today': day.isToday }"
        ></div>
        <div class="bar-label">{{ day.label }}</div>
        <div class="bar-value">{{ day.amount }}å…ƒ</div>
      </div>
    </div>

    <!-- ç®€å•çš„æ€»ç»“ -->
    <div class="chart-summary">
      <div class="summary-item">
        <span class="label">å¹³å‡æ¯å¤©ï¼š</span>
        <span class="value">{{ averageDaily }}å…ƒ</span>
      </div>
      <div class="summary-item">
        <span class="label">æœ€å¥½çš„ä¸€å¤©ï¼š</span>
        <span class="value">{{ bestDay.label }} ({{ bestDay.amount }}å…ƒ)</span>
      </div>
    </div>
  </div>
</template>

<style scoped>
.simple-chart {
  background: white;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  margin: 16px 0;
}

.chart-title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
  margin-bottom: 20px;
  text-align: center;
}

.bar-chart {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  height: 200px;
  margin-bottom: 20px;
  padding: 0 10px;
}

.bar-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0 4px;
}

.bar {
  width: 100%;
  background: linear-gradient(to top, #4CAF50, #81C784);
  border-radius: 4px 4px 0 0;
  min-height: 20px;
  transition: all 0.3s ease;

  &.today {
    background: linear-gradient(to top, #FF9800, #FFB74D);
    box-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
  }
}

.bar-label {
  font-size: 12px;
  color: #666;
  margin-top: 8px;
}

.bar-value {
  font-size: 14px;
  font-weight: bold;
  color: #333;
  margin-top: 4px;
}

.chart-summary {
  display: flex;
  justify-content: space-around;
  padding-top: 16px;
  border-top: 1px solid #eee;
}

.summary-item {
  text-align: center;

  .label {
    display: block;
    font-size: 14px;
    color: #666;
    margin-bottom: 4px;
  }

  .value {
    font-size: 16px;
    font-weight: bold;
    color: #333;
  }
}
</style>
```

---

## ğŸ¯ æ ¸å¿ƒè®¾è®¡åŸåˆ™æ€»ç»“

### 1. å®Œå…¨æ¨¡ä»¿ç†Ÿæ‚‰ç•Œé¢
- **å¾®ä¿¡å¼å¸ƒå±€** - ç”¨æˆ·å·²ç»ç†Ÿæ‚‰çš„èŠå¤©ç•Œé¢
- **å¤§å­—ä½“å¤§æŒ‰é’®** - é€‚åˆä¸­è€å¹´ç”¨æˆ·
- **ç®€å•é…è‰²** - é¿å…èŠ±å“¨çš„è®¾è®¡

### 2. AIä¸»åŠ¨å¼•å¯¼
- **æƒ…å¢ƒæ„ŸçŸ¥** - æ ¹æ®æ—¶é—´å’Œåœºæ™¯ä¸»åŠ¨æç¤º
- **æ¸è¿›å¼å­¦ä¹ ** - ä»ç®€å•åˆ°å¤æ‚é€æ­¥å¼•å¯¼
- **æ™ºèƒ½çº é”™** - ç†è§£æ¨¡ç³Šå’Œé”™è¯¯çš„è¡¨è¾¾

### 3. è¯­éŸ³ä¼˜å…ˆäº¤äº’
- **ä¸€é”®è¯­éŸ³** - æŒ‰ä½è¯´è¯ï¼Œæ¾å¼€å‘é€
- **å®æ—¶åé¦ˆ** - è¯­éŸ³è¯†åˆ«è¿‡ç¨‹å¯è§†åŒ–
- **æ™ºèƒ½çº é”™** - è‡ªåŠ¨ä¿®æ­£å¸¸è§è¯­éŸ³è¯†åˆ«é”™è¯¯

### 4. é›¶æŠ€æœ¯é—¨æ§›
- **è‡ªç„¶è¯­è¨€** - ç”¨å¤§ç™½è¯äº¤æµ
- **æ™ºèƒ½ç†è§£** - ç†è§£å„ç§è¡¨è¾¾æ–¹å¼
- **å‹å¥½æç¤º** - ä¸æ‡‚æ—¶ä¸»åŠ¨å¼•å¯¼

è¿™ä¸ªè®¾è®¡æ–¹æ¡ˆçš„æ ¸å¿ƒæ˜¯**è®©ç”¨æˆ·æ„Ÿè§‰ä¸åˆ°åœ¨ä½¿ç”¨æŠ€æœ¯**ï¼Œå°±åƒå’Œä¸€ä¸ªæ‡‚ä¸šåŠ¡çš„æœ‹å‹åœ¨èŠå¤©ä¸€æ ·è‡ªç„¶ã€‚

æ‚¨è§‰å¾—è¿™ä¸ªé›¶å­¦ä¹ æˆæœ¬çš„è®¾è®¡æ–¹æ¡ˆå¦‚ä½•ï¼Ÿæœ‰å“ªäº›åœ°æ–¹éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Ÿ
```
